# ä»»åŠ¡  
å¸®æˆ‘å†™å¾®ä¿¡å°æ¸¸æˆä»£ç ï¼Œå°æ¸¸æˆä¸»è¦ç©æ³•æ˜¯å…è®¸ç”¨æˆ·ç”»ä¸€æ¡é±¼ç„¶åå°†å…¶æ”¾å…¥é±¼ç¼¸ã€‚

# è¦æ±‚  
1. ä»£ç ç®€æ´ã€å¯é ã€å¥å£®ï¼Œæ·»åŠ å¿…è¦çš„æ‰“å°ç›‘æ§ä»£ç çŠ¶æ€ï¼Œå¹¶ä¸”ä¿è¯ä»£ç å¯è¿è¡Œã€‚  
2. ç”¨game.jså’Œgame.jsonå®ç°ã€‚  
3. é€ä¸ªç»™å‡ºæ¯ä¸ªç¨‹åºè„šæœ¬ï¼Œä¸è¦ç¼ºå¤±ä»»ä½•æ–‡ä»¶ï¼Œä¿è¯é¡¹ç›®å¯è¿è¡Œã€‚   
4. æ¯ä¸ªbuttonè§„æ ¼ç»Ÿä¸€ä¸ºé•¿80åƒç´ é«˜40åƒç´ ï¼Œé™¤éè¦æ±‚ç‰¹æ®Šå¤„ç†ã€‚     
5. åˆ©ç”¨ä»£ç å†…ç½®é£æ ¼ç»Ÿä¸€ç¾åŒ–æ‰€æœ‰ç»„ä»¶ã€‚  

# å°æ¸¸æˆUIå’ŒButtonè®¾è®¡    
é¦–å…ˆæ¸¸æˆç•Œé¢æ•´ä½“èƒŒæ™¯ä¸ºç™½è‰²ï¼Œä»¥æ‰‹æœºå±å¹•ç«–ç›´çŠ¶æ€è¿è¡Œï¼Œé¡¶éƒ¨ç©ºå‡º80ä¸ªåƒç´ é«˜åº¦ç”¨æ¥é¿å¼€æ‰‹æœºçš„é€šçŸ¥æ ã€‚
## é¦–é¡µéƒ¨åˆ†çš„æ•´ä½“UIç”±ä¸Šåˆ°ä¸‹æ˜¯åŠŸèƒ½åŒºã€æŒ‡ç¤ºåŒºã€ç»˜ç”»åŒºã€å¾—åˆ†åŒºã€è·³è½¬åŒºã€‚
1. åŠŸèƒ½åŒºåŒ…å«3ä¸ªpartï¼Œæ¯ä¸ªparté«˜åº¦60åƒç´ ï¼Œçºµå‘æ’åˆ—ã€‚part1 ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯7ä¸ªåœ†åœˆæŒ‰é”®ï¼ˆç›´å¾„å¤§å°30åƒç´ ï¼Œå¤–æ¡†é»‘è‰²æè¾¹ï¼Œå†…éƒ¨é¢œè‰²åˆ†åˆ«æ˜¯é»‘è‰²ã€çº¢è‰²ã€ç»¿è‰²ã€ç´«è‰²ã€é»„è‰²ã€æ©˜è‰²ã€ç™½è‰²ï¼Œæ”¯æŒç”¨æˆ·é€‰æ‹©ä¸åŒé¢œè‰²ç»˜ç”»ï¼‰ï¼Œæ°´å¹³å±…ä¸­å‡åŒ€åˆ†å¼€ã€‚part2 å·¦è¾¹é¦–å…ˆæ˜¾ç¤ºæ–‡æœ¬"Sizeï¼š"ï¼Œç„¶åæ˜¯ä¸€ä¸ªæ»‘åŠ¨æ§ä»¶ï¼Œç”¨æ¥è°ƒèŠ‚æ©¡çš®æ“¦å’Œç”»ç¬”çš„ç²—ç»†ã€‚part3 ä»å·¦åˆ°å³é¦–å…ˆæ˜¯Eraserçš„buttonï¼ˆæ©¡çš®æ“¦ï¼‰æ”¯æŒç”¨æˆ·æ“¦é™¤æŸåŒºåŸŸï¼Œç„¶åæ˜¯Undoçš„buttonæ”¯æŒç”¨æˆ·ä¸€ç¬”ç¬”æ’¤é”€åˆšåˆšçš„ç»˜ç”»ç¬”è¿¹ï¼Œå†ç„¶åæ˜¯Clearçš„buttonæ”¯æŒç”¨æˆ·ç›´æ¥æ¸…ç©ºç»˜ç”»åŒºåŸŸï¼Œæœ€åæ˜¯Flipçš„buttonæ”¯æŒç”¨æˆ·å°†ç»˜ç”»å·¦å³ç¿»è½¬ã€‚å››ä¸ªæŒ‰é”®æ°´å¹³å±…ä¸­å‡åŒ€åˆ†å¼€ã€‚
2. æŒ‡ç¤ºåŒºå 80ä¸ªåƒç´ é«˜åº¦ï¼ŒåªåŒ…å«æœ‰ä¸¤è¡Œæ–‡æœ¬ï¼Œç¬¬ä¸€è¡Œæ˜¯ "ç”»ä¸€æ¡é±¼å§!"ï¼Œç¬¬äºŒè¡Œæ˜¯"é±¼å¤´è¯·æœå³"ï¼Œ ä¸¤è¡Œæ–‡æœ¬å­—ä½“ä¸€è‡´ï¼Œæ–‡æœ¬é«˜åº¦å‡ä¸º35åƒç´ ï¼Œå¸ƒå±€æ°´å¹³å±…ä¸­ã€‚
3. ç»˜ç”»åŒºç”±çŸ©å½¢æ„æˆï¼Œå…è®¸ç”¨æˆ·åœ¨çŸ©å½¢å†…ä½œç”»ï¼ŒçŸ©å½¢åŒºåŸŸé«˜220åƒç´ ï¼Œå®½åº¦è·ç¦»å±å¹•ä¸¤è¾¹å„10åƒç´ ã€‚
4. å¾—åˆ†åŒºå 50ä¸ªåƒç´ é«˜ï¼Œä¸­é—´æœ‰ä¸€è¡Œæ–‡æœ¬"AIè¯„åˆ†ï¼š0"ï¼Œæ–‡æœ¬é«˜åº¦å 30åƒç´ ã€‚
5. è·³è½¬åŒºå 60ä¸ªåƒç´ é«˜ï¼Œä»å·¦åˆ°å³æœ‰é¦–å…ˆæ˜¯"é±¼ç¼¸"çš„buttonï¼›ç„¶åæ˜¯"è®©å®ƒæ¸¸èµ·æ¥ï¼" çš„buttonï¼›æœ€åæ˜¯"æ’è¡Œæ¦œ"çš„buttonï¼Œè¿™ä¸‰ä¸ªbuttonæ°´å¹³å±…ä¸­å‡åŒ€åˆ†å¼€ï¼ŒåŠŸèƒ½æš‚æ—¶ä¸å»å®ç°ã€‚





è¿™æ˜¯æˆ‘çš„å°æ¸¸æˆä»£ç ï¼Œè¯·ä½ å¸®æˆ‘ç»§ç»­ä¼˜åŒ–ä¸‹ã€‚é¦–å…ˆä¿æŒåŸä»£ç ä¸»ä½“ä¸å˜ï¼Œç„¶åä»£ç é£æ ¼å»¶ç»­ç®€æ´ã€å¯é ã€å¥å£®ã€æœ‰æ‰“å°æ ¸å¿ƒæ­¥éª¤ä¿¡æ¯ï¼Œæœ€åè¿”å›ä¼˜åŒ–åçš„å®Œæ•´ä»£ç ã€‚
å¸®æˆ‘å®ç°ï¼Œå½“ç”¨æˆ·ç”»å®Œä¸€ç¬”åï¼Œå°†ç”»å¸ƒçš„ç»˜ç”»å€ŸåŠ©canvas.toDataURL()è·å–base64æ•°æ®ï¼Œç„¶åè°ƒç”¨å¤§æ¨¡å‹apiè·å¾—aiåˆ¤æ–­çš„å¾—åˆ†ï¼Œç„¶åå°†å¾—åˆ†åœ¨â€œAIè¯„åˆ†â€æ–‡æœ¬è¿™é‡Œæ‰“å°å‡ºæ¥ã€‚æ³¨æ„åœ¨è°ƒç”¨å¤§æ¨¡å‹apiæ‰“åˆ†çš„æ—¶å€™è¦å¼‚æ­¥æ‰§è¡Œï¼Œä¸è¦è€½è¯¯ç”¨æˆ·åç»­ç»˜ç”»ã€‚å¤§æ¨¡å‹apiçš„ä½¿ç”¨demoå¦‚ä¸‹






è¿™æ˜¯æˆ‘çš„å°æ¸¸æˆä»£ç ï¼Œè¯·ä½ å¸®æˆ‘ç»§ç»­ä¼˜åŒ–ä¸‹ã€‚é¦–å…ˆä¿æŒåŸä»£ç ä¸»ä½“ä¸å˜ï¼Œç„¶åä»£ç é£æ ¼å»¶ç»­ç®€æ´ã€å¯é ã€å¥å£®ï¼Œæœ€åè¿”å›ä¼˜åŒ–åçš„å®Œæ•´ä»£ç ã€‚
èƒ½ç¾åŒ–ä¸‹æˆ‘ç°åœ¨ä»£ç é‡Œçš„æ‰€æœ‰ç»„ä»¶å—ï¼Œè®©uiçœ‹èµ·æ¥æ›´é«˜çº§




è¿™æ˜¯æˆ‘çš„å°æ¸¸æˆä»£ç ï¼Œè¯·ä½ å¸®æˆ‘ç»§ç»­ä¼˜åŒ–ä¸‹ã€‚é¦–å…ˆä¿æŒåŸä»£ç ä¸»ä½“ä¸å˜ï¼Œç„¶åä»£ç é£æ ¼å»¶ç»­ç®€æ´ã€å¯é ã€å¥å£®ï¼Œæœ€åè¿”å›ä¼˜åŒ–åçš„å®Œæ•´ä»£ç ã€‚
èƒ½å°†è¿™ä¸ªä»£ç é€»è¾‘åˆ†ä¸ºå‡ ä¸ªè„šæœ¬å—ï¼Œé‡æ–°æ•´ç†ä¸‹é¡¹ç›®ç»“æ„ï¼Œè®©ä¸»ç¨‹åºå˜å¾—æ›´è½»ç›ˆï¼Œå„ä¸ªåŠŸèƒ½èƒ½åœ¨ä¸»è„šæœ¬é‡Œå®ç°æ’æ‹”å¼çš„è§£è€¦æ¨¡å¼ã€‚ç»™æˆ‘æ‹†è§£åçš„ç›®å½•å’Œå¯¹åº”ä»£ç ã€‚ä¸è¦æ‹†è§£æˆå¤ªå¤šï¼Œæ ¹æ®ä¸»è¦åŠŸèƒ½æ‹†è§£æˆ3ã€4ä¸ªè„šæœ¬å°±è¡Œ









canvasToTempFilePath
canvasGetImageData


æˆ‘åœ¨å¼€å‘ä¸€æ¬¾å°æ¸¸æˆï¼Œæ ¸å¿ƒç©æ³•æ˜¯å…è®¸ç”¨æˆ·ç”»ä¸€æ¡é±¼ï¼Œç„¶åé€šè¿‡ä»£ç ç”Ÿæˆæ¨¡æ‹Ÿé±¼æ¸¸åŠ¨çš„æ¸²æŸ“åŠ¨ç”»ï¼Œæœ€åæ”¾å…¥é±¼ç¼¸ã€‚
é™„ä»¶æ˜¯æˆ‘å°æ¸¸æˆä»£ç æ¶‰åŠçš„æ‰€æœ‰è„šæœ¬ï¼Œè¯·ä½ å¸®æˆ‘ç»§ç»­ä¼˜åŒ–ä¸‹ï¼Œä¿æŒåŸä»£ç ä¸»ä½“ä¸å˜ï¼Œä»£ç é£æ ¼å»¶ç»­ç®€æ´ã€å¯é ã€å¥å£®ï¼Œæœ€åè¿”å›ä¼˜åŒ–åçš„å®Œæ•´ä»£ç ã€‚
ç”¨æˆ·ç‚¹å‡»â€œè®©å®ƒæ¸¸èµ·æ¥â€çš„buttonå®ç°ä¸‹é¢çš„é€»è¾‘ï¼Œé¦–å…ˆåˆ¤æ–­å¤§æ¨¡å‹apiè¿”å›çš„å¾—åˆ†æ˜¯å¦å¤§äº60åˆ†ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶å¼¹å‡ºæç¤ºâ€œAIè¯„åˆ†å°äº60ï¼Œè¿™é±¼ç”»çš„å¤ªæŠ½è±¡â€ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶è®¡ç®—ç”¨æˆ·ç»˜åˆ¶çš„é±¼æœ€å°å¤–æ¥çŸ©å½¢ï¼Œæ ¹æ®è¿™ä¸ªçŸ©å½¢å°†ç”¨æˆ·ç»˜åˆ¶çš„ä½œå“è£å‰ªå‡ºæ¥æˆä¸ºå­å›¾ï¼Œç„¶åå°†å­å›¾çš„é•¿è¾¹å¯¹é½åˆ°50åƒç´ ï¼ŒåŒæ—¶å®½è¾¹ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œç¼©æ”¾ä¹‹åæˆ‘ä»¬ç§°æ–°çš„å›¾ä¸ºâ€œç¼©æ”¾å›¾â€ï¼Œè·å¾—ç¼©æ”¾å›¾ä¹‹åè·³è½¬åˆ°æ–°çš„ç•Œé¢ï¼Œæ–°çš„ç•Œé¢æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå…¬å…±é±¼ç¼¸â€ï¼Œå°ºå¯¸ä¸æ‰‹æœºå±å¹•å°ºå¯¸å¯¹é½ï¼ŒèƒŒæ™¯ä¸ºæ°´è“è‰²ï¼Œç„¶åå†å…¬å…±é±¼ç¼¸ç•Œé¢å‚è€ƒä¸‹é¢â€œæ¸¸åŠ¨demoâ€é€»è¾‘ï¼Œå°†è¿™ä¸ªé€»è¾‘åº”ç”¨åˆ°ç¼©æ”¾å›¾ä¸Šï¼Œæ¸²æŸ“ç”¨æˆ·ç»˜ç”»çš„é±¼åœ¨å…¬å…±é±¼ç¼¸é‡Œæ¸¸åŠ¨çš„ç”»é¢ï¼Œè®¾ç½®è¿”å›é”®ï¼Œç‚¹å‡»è¿”å›é”®è¿”å›åˆ°ä¸Šä¸€çº§ç•Œé¢ã€‚æ¸¸åŠ¨demoï¼š// å¾®ä¿¡å°æ¸¸æˆç‰ˆé±¼æ¸¸åŠ¨æ•ˆæœ



é™„ä»¶æ˜¯æˆ‘å°æ¸¸æˆä»£ç æ¶‰åŠçš„æ‰€æœ‰è„šæœ¬ï¼Œè¯·ä½ å¸®æˆ‘ç»§ç»­ä¼˜åŒ–æˆ–å¢åŠ æ–°éœ€æ±‚ï¼Œä¿æŒåŸä»£ç ä¸»ä½“ä¸å˜ï¼Œä»£ç é£æ ¼å»¶ç»­ç®€æ´ã€å¯é ã€å¥å£®ï¼Œæœ€åè¿”å›æœ¬æ¬¡ä¿®æ”¹æ¶‰åŠçš„è„šæœ¬çš„å®Œæ•´ä»£ç ã€‚
åœ¨åå­—ä¸ºâ€œğŸš€ è®©å®ƒæ¸¸èµ·æ¥ï¼â€çš„buttonå¯¹åº”çš„ç°æœ‰äº‹ä»¶åé¢å¢åŠ æ–°äº‹ä»¶ï¼Œæ–°äº‹ä»¶ä¸ºå¼¹å‡ºæ–°ç•Œé¢ï¼Œæ–°ç•Œé¢èƒŒæ™¯æ•´ä½“ä¸ºæ°´è“è‰²




åˆå§‹åŒ– SDK
é€šè¿‡ npm å¼•å…¥
å¾®ä¿¡å¼€å‘è€…å·¥å…·ä½¿ç”¨ npm æŒ‡å¼•

åœ¨å°ç¨‹åº package.json æ‰€åœ¨çš„ç›®å½•ï¼ˆä¸€èˆ¬æ˜¯ miniprogram ç›®å½•ï¼‰æ‰§è¡Œå‘½ä»¤å®‰è£… npm åŒ…ï¼š

npm install @cloudbase/wx-cloud-client-sdk --save
ç„¶åç‚¹å‡»å¾®ä¿¡å¼€å‘è€…å·¥å…·å·¥å…·æ ä¸Šçš„â€œå·¥å…·â€ -> â€œæ„å»º npmâ€ã€‚

åœ¨ app.js ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š

const { init } = require("@cloudbase/wx-cloud-client-sdk");

// æŒ‡å®šäº‘å¼€å‘ç¯å¢ƒ ID
wx.cloud.init({
  env: "cloud1-8gy356s2a34a0890", // å½“å‰çš„äº‘å¼€å‘ç¯å¢ƒ ID
});

const client = init(wx.cloud);
const db = client.mysql();
åˆ›å»ºå•æ¡æ•°æ®
const { data, error } = await db.from('fishes')
  .insert({
      uid: 12345, // int
      createdAt: '2024-01-01 12:00:00', // timestamp
      fishid: 'ç¤ºä¾‹å­—ç¬¦ä¸²', // varchar
      score: 'ç¤ºä¾‹å­—ç¬¦ä¸²', // varchar
      star: 'ç¤ºä¾‹å­—ç¬¦ä¸²', // varchar
      unstar: 'ç¤ºä¾‹å­—ç¬¦ä¸²', // varchar
    })
  .select(); // æ³¨æ„ï¼šä»…å½“è¡¨ä¸­åªæœ‰ä¸€ä¸ªä¸»é”®ï¼Œä¸”è¯¥ä¸»é”®ä¸ºè‡ªå¢ç±»å‹æ—¶ï¼Œ".select()" æ–¹æ³•æ‰ä¼šè¿”å›æ’å…¥çš„è¡Œ

console.log(data, error)





























